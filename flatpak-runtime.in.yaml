document: modulemd
version: 1
data:
    summary: 'Flatpak Runtime'
    description: >-
        This module defines two runtimes for Flatpaks, the 'runtime' profile that
        most Flatpaks in Fedora use, and a smaller 'runtime-base' profile that is
        intended to be more minimal and (slightly) more API stable. There are also
        corresponding sdk and sdk-base profiles that are used to build SDKs that
        applications can be built against with flatpak-builder.
    license:
        module: [ MIT ]
    dependencies:
        buildrequires:
            platform: @STREAM@
        requires:
            platform: @STREAM@
    profiles:
        runtime:
            rpms: []
        runtime-base:
            rpms: []
        sdk:
            rpms: []
        sdk-base:
            rpms: []
        buildroot:
            rpms: [flatpak-rpm-macros, flatpak-runtime-config]
    api:
        rpms:
            - flatpak-rpm-macros
            - flatpak-runtime-config
    components:
        rpms:
            flatpak-rpm-macros:
                rationale: Set up build root for flatpak RPMS
                ref: master
            flatpak-runtime-config:
                rationale: Runtime configuration files
                ref: master
    xmd:
        # This is used when building applications against this module so that
        # the resulting Flatpak will embed a reference to the correct runtime
        flatpak:
            branch: @STREAM@
            runtimes:
                # Map from profile name to pre-profile information - the
                # profile named 'runtime' is the default.
                runtime:
                    id: @ID_PREFIX@.Platform
                    sdk: @ID_PREFIX@.Sdk
                sdk:
                    id: @ID_PREFIX@.Sdk
                    runtime: @ID_PREFIX@.Platform
                runtime-base:
                    id: @ID_PREFIX@.BasePlatform
                    sdk: @ID_PREFIX@.BaseSdk
                sdk-base:
                    id: @ID_PREFIX@.BaseSdk
                    runtime: @ID_PREFIX@.BasePlatform
