document: modulemd
version: 1
data:
    summary: 'Flatpak Runtime'
    description: >-
         This module defines a runtimes for Flatpaks. The 'sdk' profile defines
         the corresponding SDKs that applications can be built against with flatpak-builder.
    license:
        module: [ MIT ]
    dependencies:
        buildrequires:
            platform: @STREAM@
        requires:
            platform: @STREAM@
    profiles:
        runtime:
            rpms: []
        sdk:
            rpms: []
        buildroot:
            rpms: [flatpak-rpm-macros, flatpak-runtime-config]
    api:
        rpms:
            - flatpak-rpm-macros
            - flatpak-runtime-config
    components:
        rpms:
            flatpak-rpm-macros:
                rationale: Set up build root for flatpak RPMS
                ref: @RPM_BRANCH@
            flatpak-runtime-config:
                rationale: Runtime configuration files
                ref: @RPM_BRANCH@
    xmd:
        # This is used when building applications against this module so that
        # the resulting Flatpak will embed a reference to the correct runtime
        flatpak:
            branch: @STREAM@
            runtimes:
                # Map from profile name to pre-profile information - the
                # profile named 'runtime' is the default.
                runtime:
                    id: @ID_PREFIX@.Platform
                    sdk: @ID_PREFIX@.Sdk
                sdk:
                    id: @ID_PREFIX@.Sdk
                    runtime: @ID_PREFIX@.Platform
